"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3474],{3905:(e,t,o)=>{o.d(t,{Zo:()=>p,kt:()=>h});var n=o(7294);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var s=n.createContext({}),u=function(e){var t=n.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):l(l({},t),e)),o},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var o=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),c=u(o),m=i,h=c["".concat(s,".").concat(m)]||c[m]||d[m]||a;return o?n.createElement(h,l(l({ref:t},p),{},{components:o})):n.createElement(h,l({ref:t},p))}));function h(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=o.length,l=new Array(a);l[0]=m;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r[c]="string"==typeof e?e:i,l[1]=r;for(var u=2;u<a;u++)l[u]=o[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,o)}m.displayName="MDXCreateElement"},4438:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>u});var n=o(7462),i=(o(7294),o(3905));const a={draft:!1,id:"Autopilot Setup Suggestions",title:"Autopilot Setup Suggestions",hide_title:!1,hide_table_of_contents:!1,sidebar_label:"Autopilot Setup Suggestions",sidebar_position:1,toc_max_heading_level:4,pagination_label:"Autopilot Setup Suggestions",tags:["Autopilot","Intune"],custom_edit_url:"https://github.com/facebook/docusaurus/edit/main/docs/api-doc-markdown.md",description:"Details some advice and things I have learnt when setting up Autopilot."},l=void 0,r={unversionedId:"Intune/Autopilot/Autopilot Setup Suggestions",id:"Intune/Autopilot/Autopilot Setup Suggestions",title:"Autopilot Setup Suggestions",description:"Details some advice and things I have learnt when setting up Autopilot.",source:"@site/docs/Intune/Autopilot/Autopilot-Setup-Suggestions.md",sourceDirName:"Intune/Autopilot",slug:"/Intune/Autopilot/Autopilot Setup Suggestions",permalink:"/docs/Intune/Autopilot/Autopilot Setup Suggestions",draft:!1,editUrl:"https://github.com/facebook/docusaurus/edit/main/docs/api-doc-markdown.md",tags:[{label:"Autopilot",permalink:"/docs/tags/autopilot"},{label:"Intune",permalink:"/docs/tags/intune"}],version:"current",sidebarPosition:1,frontMatter:{draft:!1,id:"Autopilot Setup Suggestions",title:"Autopilot Setup Suggestions",hide_title:!1,hide_table_of_contents:!1,sidebar_label:"Autopilot Setup Suggestions",sidebar_position:1,toc_max_heading_level:4,pagination_label:"Autopilot Setup Suggestions",tags:["Autopilot","Intune"],custom_edit_url:"https://github.com/facebook/docusaurus/edit/main/docs/api-doc-markdown.md",description:"Details some advice and things I have learnt when setting up Autopilot."},sidebar:"tutorialSidebar",previous:{title:"Autopilot",permalink:"/docs/category/autopilot"},next:{title:"Diagnose Autopilot Errors",permalink:"/docs/Intune/Autopilot/Diagnose Autopilot Errors"}},s={},u=[{value:"Too Long; Didn&#39;t Read",id:"too-long-didnt-read",level:2},{value:"Consider all of the moving parts",id:"consider-all-of-the-moving-parts",level:2},{value:"Azure AD",id:"azure-ad",level:2},{value:"Users and Groups",id:"users-and-groups",level:3},{value:"Dynamic Queries",id:"dynamic-queries",level:3},{value:"Conditional Access",id:"conditional-access",level:3}],p={toc:u},c="wrapper";function d(e){let{components:t,...o}=e;return(0,i.kt)(c,(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("hr",null),(0,i.kt)("p",null,"This small doc details settings that I have learnt should be considered and setup when thinking about how to setup an Autopilot solution."),(0,i.kt)("h2",{id:"too-long-didnt-read"},"Too Long; Didn't Read"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Setup 3 Dynamic groups in Azure AD that cover the follolwing: All intune Devices (Dynamic Device), All Autopilot Devices (Dynamic Device) and All Intune Users (Dynamic User)."),(0,i.kt)("li",{parentName:"ul"},"For each of the three groups, setup the expresssions; review this ",(0,i.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/en-us/autopilot/enrollment-autopilot#create-an-autopilot-device-group-using-intune"},"Microsoft documentation")," for how to do this."),(0,i.kt)("li",{parentName:"ul"},"Create a Conditional Access policy, that will only allow access if the deivces is policy compliant, make sure this is applied to the all intune users dynamic group you've setup.")),(0,i.kt)("h2",{id:"consider-all-of-the-moving-parts"},"Consider all of the moving parts"),(0,i.kt)("p",null,"Autopilot is setup within Microsoft Intune yes however, as I have learnt there are other areas that should be thought about when implementing this."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Azure Active Directory groups and users.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Application deployment and Update processes.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Conditional Access policy."))),(0,i.kt)("h2",{id:"azure-ad"},"Azure AD"),(0,i.kt)("p",null,"Azure active directory is the main Identity solution within the Microsoft suit of products and underpins the majority of services; it's mainly used to manage users and groups."),(0,i.kt)("h3",{id:"users-and-groups"},"Users and Groups"),(0,i.kt)("p",null,"The Autopilot profile will target a group, that group should be home to your Windows Devices. However, there's an important consideration to keep in mind. When using the Autopilot process, apps will be automatically installed if they are deployed to the same group as your Autopilot profileand are marked as \"",(0,i.kt)("em",{parentName:"p"},"Required"),'"; which will increase the time it takes to complete the setup.'),(0,i.kt)("p",null,"A good solution to this is to create two separate groups; one for the Autopilot Profile and another for managing application installations and patches. This approach ensures that only the specific applications you've selected will be installed during the Autopilot process, streamlining the setup and preventing unnecessary app installations."),(0,i.kt)("p",null,"I would also suggest setting up 3rd group to include all of your Intune users, this should also be a Dynamic group."),(0,i.kt)("h3",{id:"dynamic-queries"},"Dynamic Queries"),(0,i.kt)("p",null,"Setting up the groups as Dynamic Device groups will automate the devices being added to each group respectively and remove an overhead."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Check out this ",(0,i.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/autopilot/enrollment-autopilot#create-an-autopilot-device-group-using-intune"},"Microsoft documentation")," for referenc.")),(0,i.kt)("p",null,"These can all be found in the MS link above."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"To create a group that includes all of your Autopilot devices, enter: ",(0,i.kt)("inlineCode",{parentName:"li"},'(device.devicePhysicalIDs -any (_ -contains "[ZTDID]"))'),"."),(0,i.kt)("li",{parentName:"ul"},"To create a group that includes all Autopilot devices with a specific group tag (the Azure AD device OrderID), enter: ",(0,i.kt)("inlineCode",{parentName:"li"},'(device.devicePhysicalIds -any (_ -eq "[OrderID]:179887111881"))'),"."),(0,i.kt)("li",{parentName:"ul"},"To create a group that includes all your Autopilot devices with a specific Purchase Order ID, enter: ",(0,i.kt)("inlineCode",{parentName:"li"},'(device.devicePhysicalIds -any (_ -eq "[PurchaseOrderId]:76222342342"))'),".")),(0,i.kt)("h3",{id:"conditional-access"},"Conditional Access"),(0,i.kt)("p",null,"Conditional Access is one of your lines of defence against unauthorised access to company resources in the cloud; you'll need a policy to ensure only compliant devices are able to access the organisation."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Sign in to the ",(0,i.kt)("strong",{parentName:"li"},"Microsoft Entra admin center"),"."),(0,i.kt)("li",{parentName:"ol"},"Browse to ",(0,i.kt)("strong",{parentName:"li"},"Protection")," > ",(0,i.kt)("strong",{parentName:"li"},"Conditional Access"),"."),(0,i.kt)("li",{parentName:"ol"},"Select ",(0,i.kt)("strong",{parentName:"li"},"+ New policy"),", and then select ",(0,i.kt)("strong",{parentName:"li"},"Create new policy"),".")),(0,i.kt)("p",null,"Create the following settings to ensure only compliant devices are allowed access:"),(0,i.kt)("p",null,"Assignment:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Users: ",(0,i.kt)("em",{parentName:"li"},"Include All Intune Users"),"."),(0,i.kt)("li",{parentName:"ul"},"Target Resources: ",(0,i.kt)("em",{parentName:"li"},"All Cloud Apps"),"."),(0,i.kt)("li",{parentName:"ul"},"Conditions: ",(0,i.kt)("em",{parentName:"li"},"DevicePlatforms")," (",(0,i.kt)("em",{parentName:"li"},"Windows"),"), ",(0,i.kt)("em",{parentName:"li"},"Locations")," (",(0,i.kt)("em",{parentName:"li"},"Include all, exclude Offices"),").")),(0,i.kt)("p",null,"Access Controls:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Grant: Require Device to be compliant.")),(0,i.kt)("hr",null),(0,i.kt)("p",null,"Created: 2023-09-21, Last Updated: 2023-09-21"))}d.isMDXComponent=!0}}]);